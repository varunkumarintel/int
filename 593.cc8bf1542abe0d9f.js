"use strict";(self.webpackChunktenant_ui=self.webpackChunktenant_ui||[]).push([[593],{1593:(T,x,l)=>{l.r(x),l.d(x,{PolicyModule:()=>zt});var c=l(9808),s=l(1174),p=l(3075),u=l(1083),P=l(8867),y=l(2340),C=l(1448),t=l(5e3),O=l(2313),M=l(5245),d=l(4894),_=l(1959),g=l(1882),b=l(5970),Z=l(5664),S=l(8555),F=l(5221),R=l(3322),z=l(7093),v=l(7322),N=l(7531),L=l(4107),E=l(508),q=l(9814),j=l(1185),Y=l(7423),A=l(1125);const H=["fileSelector"];function $(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"div",16)(2,"mat-label",17),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",18),t._uU(6),t.qZA()(),t.TgZ(7,"div",19)(8,"mat-form-field",20)(9,"mat-label",21),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"input",22),t.TgZ(13,"mat-hint"),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"div",23)(17,"label",17),t._uU(18),t.ALo(19,"translate"),t.qZA(),t.TgZ(20,"span",18),t._uU(21),t.qZA()(),t.TgZ(22,"div",23)(23,"label",17),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"span",18),t._uU(27),t.qZA()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,8,"policy.service")),t.xp6(3),t.Oqu(e.serviceOfferName),t.xp6(4),t.Oqu(t.lcZ(11,10,"policy.policyName")),t.xp6(4),t.Oqu(t.lcZ(15,12,"policy.policyNameValidation")),t.xp6(4),t.Oqu(t.lcZ(19,14,"policy.attestationType")),t.xp6(3),t.Oqu(e.attestationType),t.xp6(3),t.Oqu(t.lcZ(25,16,"policy.policyType")),t.xp6(3),t.Oqu(e.policyType)}}function K(n,a){if(1&n&&(t.TgZ(0,"mat-option",32),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}function W(n,a){1&n&&(t.TgZ(0,"p",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"policy.appraisalPolicyDesc")))}function G(n,a){1&n&&(t.TgZ(0,"p",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"policy.tokenCustomizationPolicyDesc")))}function X(n,a){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-radio-button",36),t._uU(2),t.qZA(),t.YNc(3,W,3,3,"p",37),t.YNc(4,G,3,3,"p",37),t.BQk()),2&n){const e=a.$implicit;t.xp6(1),t.s9C("value",e.policy_type),t.xp6(1),t.hij("",e.policy_type," "),t.xp6(1),t.Q6J("ngIf","Appraisal policy"==e.policy_type),t.xp6(1),t.Q6J("ngIf","Token customization policy"==e.policy_type)}}function tt(n,a){if(1&n&&(t.TgZ(0,"div",33)(1,"mat-label",24)(2,"span",25),t._uU(3,"3"),t.qZA(),t.TgZ(4,"span",26),t._uU(5),t.qZA()(),t.TgZ(6,"mat-radio-group",34),t.YNc(7,X,5,4,"ng-container",35),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(5),t.hij("Select a policy type for ",e.policyForm.get("attestationType").value,""),t.xp6(2),t.Q6J("ngForOf",e.policyTypeLists)}}function et(n,a){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",19)(2,"mat-label",24)(3,"span",25),t._uU(4,"1"),t.qZA(),t.TgZ(5,"span",26),t._uU(6),t.ALo(7,"translate"),t.qZA()(),t.TgZ(8,"mat-form-field",20)(9,"mat-label",21),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"input",27),t.NdJ("blur",function(){return t.CHM(e),t.oxw().announceInputFieldErrors()}),t.qZA(),t.TgZ(13,"mat-hint"),t._uU(14),t.ALo(15,"translate"),t.qZA()()(),t.TgZ(16,"div",28)(17,"mat-label",24)(18,"span",25),t._uU(19,"2"),t.qZA(),t.TgZ(20,"span",26),t._uU(21,"Choose an attestation type"),t.qZA()(),t.TgZ(22,"mat-form-field",20)(23,"mat-label",21),t._uU(24),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"mat-select",29),t.YNc(27,K,2,2,"mat-option",30),t.qZA()()(),t.YNc(28,tt,8,2,"div",31),t.BQk()}if(2&n){const e=t.oxw();t.xp6(6),t.Oqu(t.lcZ(7,6,"policy.policyNameLabel")),t.xp6(4),t.Oqu(t.lcZ(11,8,"policy.policyName")),t.xp6(4),t.Oqu(t.lcZ(15,10,"policy.policyNameValidation")),t.xp6(10),t.Oqu(t.lcZ(25,12,"policy.attestationType")),t.xp6(3),t.Q6J("ngForOf",e.attestationTypeLists),t.xp6(1),t.Q6J("ngIf","VALID"===e.policyForm.get("attestationType").status)}}function nt(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"*"),t.qZA())}function ot(n,a){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Oqu(e)}}function it(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",49)(1,"span",50)(2,"img",51),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).deleteFile()}),t.qZA()(),t.TgZ(3,"span"),t._uU(4),t.qZA()()}if(2&n){const e=t.oxw(2);t.xp6(4),t.Oqu(e.selectedFiles.name)}}function at(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",16)(1,"mat-label",24)(2,"span",25),t._uU(3,"4"),t.qZA(),t.TgZ(4,"span",26),t._uU(5,"Upload the policy details"),t.qZA()(),t.TgZ(6,"div",39)(7,"h2"),t._uU(8),t.ALo(9,"translate"),t.YNc(10,nt,2,0,"span",10),t.qZA(),t.TgZ(11,"p",40),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"a",41),t._uU(15,"download center"),t.qZA(),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",42),t.NdJ("onFileDropped",function(i){return t.CHM(e),t.oxw().selectFiles(i)}),t.TgZ(19,"div",43),t._UZ(20,"input",44,45),t.TgZ(22,"button",46),t.NdJ("click",function(){return t.CHM(e),t.MAs(21).click()}),t._uU(23),t.ALo(24,"uppercase"),t.ALo(25,"translate"),t.qZA(),t.TgZ(26,"div",47)(27,"mat-label"),t._uU(28,"File requirements:"),t.qZA(),t.TgZ(29,"ul"),t.YNc(30,ot,2,1,"li",35),t.qZA()()()(),t.YNc(31,it,5,1,"div",48),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(8),t.hij("",t.lcZ(9,7,"policy.uploadPolicyTitle")," "),t.xp6(2),t.Q6J("ngIf",!e.editPolicyMode),t.xp6(2),t.Oqu(t.lcZ(13,9,"policy.uploadPolicyDesc1")),t.xp6(4),t.hij(" ",t.lcZ(17,11,"policy.uploadPolicyDesc2")," "),t.xp6(7),t.hij(" ",t.lcZ(24,13,t.lcZ(25,15,"common.browse"))," "),t.xp6(7),t.Q6J("ngForOf",e.fileRequirementList),t.xp6(1),t.Q6J("ngIf",e.selectedFiles)}}function lt(n,a){1&n&&t._UZ(0,"mat-icon",57)}function ct(n,a){1&n&&t._UZ(0,"mat-icon",58)}function rt(n,a){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",null==e.policyData?null:e.policyData.policy," ")}}function st(n,a){if(1&n&&(t.TgZ(0,"p"),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.policy?e.policy:null==e.policyData?null:e.policyData.policy," ")}}function pt(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"div",52)(1,"mat-accordion",53)(2,"mat-expansion-panel",54),t.NdJ("opened",function(){return t.CHM(e),t.oxw().panelOpenState=!0})("closed",function(){return t.CHM(e),t.oxw().panelOpenState=!1}),t.TgZ(3,"mat-expansion-panel-header")(4,"mat-panel-title"),t.YNc(5,lt,1,0,"mat-icon",55),t.YNc(6,ct,1,0,"mat-icon",56),t._uU(7),t.ALo(8,"translate"),t.qZA()(),t.YNc(9,rt,2,1,"p",10),t.YNc(10,st,2,1,"p",10),t.qZA()()()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("expanded",!0),t.xp6(3),t.Q6J("ngIf",e.panelOpenState),t.xp6(1),t.Q6J("ngIf",!e.panelOpenState),t.xp6(1),t.hij(" ",t.lcZ(8,6,"policy.viewcurrentPolicyDetails")," "),t.xp6(2),t.Q6J("ngIf",e.editPolicyMode),t.xp6(1),t.Q6J("ngIf",!e.editPolicyMode)}}function dt(n,a){if(1&n&&(t.TgZ(0,"button",59),t._uU(1),t.ALo(2,"uppercase"),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",e.policyForm.invalid||!e.policy),t.xp6(1),t.Oqu(t.lcZ(2,2,t.lcZ(3,4,"common.save")))}}function gt(n,a){if(1&n&&(t.TgZ(0,"button",59),t._uU(1),t.ALo(2,"uppercase"),t.ALo(3,"translate"),t.qZA()),2&n){const e=t.oxw();t.Q6J("disabled",!e.policyForm.dirty||e.isPolicyFileSizeExceeded),t.xp6(1),t.Oqu(t.lcZ(2,2,t.lcZ(3,4,"common.save")))}}const ft=function(n){return{"edit-policy":n}};let J=(()=>{class n{constructor(e,o,i,r,f,m,I,D,U,jt,Ht){this.sanitizer=e,this.iconRegistry=o,this.fb=i,this.router=r,this.route=f,this.translate=m,this.policyService=I,this.serviceOfferService=D,this.alertService=U,this.announcer=jt,this.loaderService=Ht,this.serviceOffers=[],this.policy="",this.isFileUploadValid=!0,this.editPolicyMode=!1,this.panelOpenState=!0,this.serviceOfferName="",this.policyName="",this.policyType="",this.portalPath=y.N.portalPath,this.isSubmitted=!1,this.isSignedPolicy=!1,this.isPolicyFileSizeExceeded=!1,this.fileRequirementList=["Maximum file size is: 10 kb","Maximum file limit: 1 file","Format must be .txt"],o.addSvgIcon("right_arrow",e.bypassSecurityTrustResourceUrl("../assets/images/svg/right_arrow.svg")),o.addSvgIcon("down_arrow",e.bypassSecurityTrustResourceUrl("../assets/images/svg/down_arrow.svg"))}ngOnInit(){var e,o;this.route.queryParams.subscribe(i=>{null!=i.policyId&&(this.editPolicyMode=!0,this.policyService.getPolicyByID(i.policyId).subscribe(r=>{var f,m;r&&(this.policyData=r,this.policyName=(null===(f=this.policyData)||void 0===f?void 0:f.policy_name)||"",this.policyType=(null===(m=this.policyData)||void 0===m?void 0:m.policy_type)||"",this.attestationType=this.policyData.attestation_type||"",this.policyForm.patchValue({attestationType:this.policyData.attestation_type,policyName:this.policyData.policy_name,policyType:this.policyData.policy_type,serviceOfferId:this.policyData.service_offer_id}),this.editPolicyMode&&(this.policy="",this.isSignedPolicy=!!this.policyData.policy_jwt,this.policyForm.controls.policyName.removeValidators([p.kI.required]),this.getServiceOfferName()))}))}),this.getLocale(),this.initForm(),this.getSubscribedServiceOffer(),null===(e=this.policyForm.get("fileSelection"))||void 0===e||e.valueChanges.subscribe(()=>{const i=this.file_selector.nativeElement;i&&i.files.length>0&&this.convertTextFileToString(i.files[0])}),null===(o=this.policyForm.get("attestationType"))||void 0===o||o.valueChanges.subscribe(i=>{var r;this.policyForm.patchValue({policyType:""}),this.selectedFiles&&this.policy&&(this.selectedFiles=null,this.policy="",this.policyForm.get("fileSelection").reset()),this.policyTypeLists=null===(r=this.attestationPolicyTypeData)||void 0===r?void 0:r.attestation_policy_type.filter(f=>f.attestation_type===i).map(f=>({policy_type:f.policy_type,policy_type_description:f.policy_type_description}))})}ngAfterViewInit(){let e=!1;this.loaderService.isLoading.subscribe(o=>{!e&&!o&&setTimeout(()=>{this.announcer.announce("Add a policy page has been loaded."),e=!0},1e3)})}announceInputFieldErrors(){var e;(null===(e=this.policyForm.get("policyName"))||void 0===e?void 0:e.errors)&&this.announcer.announce("Invalid policy name is entered.","assertive")}canDeactivate(){return this.userInfo=localStorage.getItem(C.g.USER_INFO),this.userInfo=JSON.parse(this.userInfo),!(this.policyForm.dirty&&!this.isSubmitted&&this.userInfo)}getLocale(){this.translate.get(["policy.policyAddMsg","policy.policyUpdateMsg"]).subscribe(e=>{this.translations=e})}initForm(){this.policyForm=this.fb.group({policyName:new p.NI("",[p.kI.required,p.kI.maxLength(64),p.kI.pattern("^[a-zA-Z0-9][a-zA-Z0-9_-]{2,64}$")]),policyType:new p.NI("",[p.kI.required]),attestationType:new p.NI("",[p.kI.required]),serviceOfferId:new p.NI("",[p.kI.required]),fileSelection:new p.NI("")})}getAttestationTypes(){this.serviceOfferService.getAttestationTypes(this.serviceOffers[0].service_offer_id).subscribe(e=>{this.attestationPolicyTypeData=e,this.attestationTypeLists=this.attestationPolicyTypeData.attestation_policy_type.map(o=>o.attestation_type),this.attestationTypeLists=[...new Set(this.attestationTypeLists)]})}getSubscribedServiceOffer(){this.serviceOfferService.getTenantServices().subscribe(e=>{e&&e.length>0&&(this.serviceOffers=e,this.getAttestationTypes()),this.policyForm.patchValue({policyType:this.policyForm.value.policyType,serviceOfferId:this.serviceOffers[0].service_offer_id}),this.editPolicyMode&&this.getServiceOfferName()})}getServiceOfferName(){var e,o;if(this.serviceOffers&&this.serviceOffers.length>0&&this.policyData&&this.policyData.service_offer_id){const i=null===(e=this.serviceOffers)||void 0===e?void 0:e.find(r=>r.service_offer_id===this.policyData.service_offer_id);this.serviceOfferName=(null===(o=null==i?void 0:i.name)||void 0===o?void 0:o.replace("_"," "))||""}}createPolicy(){if(this.isSubmitted=!0,""==this.policy?(this.policy=this.policyData.policy,this.isFileUploadValid=!1):this.isFileUploadValid=!0,this.policyForm.invalid)this.isSubmitted=!1;else if(this.editPolicyMode){const e={policy:this.policy,policy_name:this.policyForm.value.policyName};e.policy_id=this.policyData.policy_id,e.policy=this.isSignedPolicy&&!this.isFileUploadValid?this.policyData.policy_jwt:this.policy,this.policyService.updatePolicy(e).subscribe({next:o=>{o&&this.router.navigate([`${this.portalPath}policies`],{state:{successMsg:this.translations["policy.policyUpdateMsg"]}})}})}else this.policyService.createPolicy({policy:this.policy,policy_name:this.policyForm.value.policyName,policy_type:this.policyForm.value.policyType,attestation_type:this.policyForm.value.attestationType,service_offer_id:this.attestationPolicyTypeData.id}).subscribe({next:o=>{o&&this.router.navigate([`${this.portalPath}policies`],{state:{successMsg:this.translations["policy.policyAddMsg"]}})},error:()=>{this.isSubmitted=!1}})}selectFiles(e){e&&e.length>0&&this.convertTextFileToString(e[0])}convertTextFileToString(e){if(e&&"text/plain"===e.type){let o=e.size/Math.pow(1024,1);if(this.isPolicyFileSizeExceeded=!1,o>10)return this.alertService.error("File size should not exceed 10kb"),void(this.isPolicyFileSizeExceeded=!0);const i=new FileReader;this.selectedFiles=e,i.addEventListener("load",()=>{this.policy=i.result},!1),i.readAsText(e)}else this.alertService.error("Error! Only .txt files allowed")}deleteFile(){this.selectedFiles=null,this.policy="",this.isPolicyFileSizeExceeded=!1,this.policyForm.get("fileSelection").reset()}goBack(){this.isSubmitted=!0,this.router.navigate([`${this.portalPath}policies`])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(O.H7),t.Y36(M.jv),t.Y36(p.qu),t.Y36(u.F0),t.Y36(u.gz),t.Y36(d.sK),t.Y36(_.d),t.Y36(g._),t.Y36(b.c),t.Y36(Z.Kd),t.Y36(S.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-create-policy"]],viewQuery:function(e,o){if(1&e&&t.Gf(H,5),2&e){let i;t.iGM(i=t.CRH())&&(o.file_selector=i.first)}},hostBindings:function(e,o){1&e&&t.NdJ("beforeunload",function(){return o.canDeactivate()},!1,t.Jf7)},decls:33,vars:28,consts:[[1,"table-card"],[1,"breadcumb"],[3,"routerLink"],["href","javascript:;",1,"active"],[1,"page-heading"],[1,"page-description"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"policy-form-container"],[1,"policy-form",3,"ngClass"],["fxLayout","column"],[4,"ngIf"],["class","form-field",4,"ngIf"],["class","policy-view",4,"ngIf"],[1,"btn-area"],["mat-button","","type","button",1,"mr-1","mat-cancel-btn-hover",3,"click"],["class","mat-primary-btn-hover","mat-raised-button","","color","primary-btn",3,"disabled",4,"ngIf"],[1,"form-field"],[1,"form-label","edit"],[1,"form-field-value"],[1,"form-field","policy-name"],["appearance","outline",1,"form-width"],[1,"form-label"],["matInput","","formControlName","policyName"],[1,"form-field","policy-type-container"],[1,"form-outer-label"],[1,"number-text"],[1,"label-text"],["matInput","","formControlName","policyName",3,"blur"],[1,"form-field","product-type"],["formControlName","attestationType"],[3,"value",4,"ngFor","ngForOf"],["class","form-field policy-type-container mw-100",4,"ngIf"],[3,"value"],[1,"form-field","policy-type-container","mw-100"],["formControlName","policyType"],[4,"ngFor","ngForOf"],["color","primary",3,"value"],["class","policy-type-desc",4,"ngIf"],[1,"policy-type-desc"],[1,"file-upload-container"],[1,"upload-policy-desc"],["target","_blank","href","/workspace/download"],["dragAndDrop","",1,"drag-and-drop-section",3,"onFileDropped"],[1,"add-file-btn"],["type","file","formControlName","fileSelection","accept","text/plain"],["fileSelector",""],["mat-raised-button","","type","button","color","primary",1,"upload-btn","mat-primary-btn-hover",3,"click"],[1,"file-requirement-wrapper"],["class","selected-file",4,"ngIf"],[1,"selected-file"],[1,"delete-btn"],["src","assets/images/svg/cancel.svg",3,"click"],[1,"policy-view"],["togglePosition","before"],[3,"expanded","opened","closed"],["svgIcon","down_arrow",4,"ngIf"],["svgIcon","right_arrow",4,"ngIf"],["svgIcon","down_arrow"],["svgIcon","right_arrow"],["mat-raised-button","","color","primary-btn",1,"mat-primary-btn-hover",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"a",2),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span"),t._uU(6," / "),t.qZA(),t.TgZ(7,"a",3),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t._UZ(10,"alert"),t.TgZ(11,"div",4)(12,"h1"),t._uU(13),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"p",5),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"form",6),t.NdJ("ngSubmit",function(){return o.createPolicy()}),t.TgZ(19,"div",7)(20,"div",8)(21,"div",9),t.YNc(22,$,28,18,"ng-container",10),t.YNc(23,et,29,14,"ng-container",10),t.YNc(24,at,32,17,"div",11),t.qZA()(),t.YNc(25,pt,11,8,"div",12),t.qZA(),t.TgZ(26,"div",13)(27,"button",14),t.NdJ("click",function(){return o.goBack()}),t._uU(28),t.ALo(29,"uppercase"),t.ALo(30,"translate"),t.qZA(),t.YNc(31,dt,4,6,"button",15),t.YNc(32,gt,4,6,"button",15),t.qZA()()()),2&e&&(t.xp6(2),t.MGl("routerLink","",o.portalPath,"policies"),t.xp6(1),t.Oqu(t.lcZ(4,14,"policy.managePolicy")),t.xp6(5),t.Oqu(t.lcZ(9,16,o.editPolicyMode?"policy.editPolicy":"policy.addPolicy")),t.xp6(5),t.Oqu(t.lcZ(14,18,o.editPolicyMode?"policy.editPolicy":"policy.addPolicy")),t.xp6(3),t.Oqu(t.lcZ(17,20,"policy.addPolicySubTitle")),t.xp6(2),t.Q6J("formGroup",o.policyForm),t.xp6(2),t.Q6J("ngClass",t.VKq(26,ft,o.editPolicyMode)),t.xp6(2),t.Q6J("ngIf",o.editPolicyMode),t.xp6(1),t.Q6J("ngIf",!o.editPolicyMode),t.xp6(1),t.Q6J("ngIf","VALID"===o.policyForm.get("policyType").status),t.xp6(1),t.Q6J("ngIf",o.editPolicyMode),t.xp6(3),t.Oqu(t.lcZ(29,22,t.lcZ(30,24,"common.goBack"))),t.xp6(3),t.Q6J("ngIf",!o.editPolicyMode),t.xp6(1),t.Q6J("ngIf",o.editPolicyMode))},directives:[u.yS,F.w,p._Y,p.JL,p.sg,c.mk,R.oO,z.xw,c.O5,v.hX,v.KE,N.Nt,p.Fj,p.JJ,p.u,v.bx,L.gD,c.sg,E.ey,q.VQ,q.U0,j.z,Y.lW,A.pp,A.ib,A.yz,A.yK,M.Hw],pipes:[d.X$,c.gd],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.table-card[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:32px;margin-bottom:24px;font-family:IntelOne-Display;font-weight:500}.table-card[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{font-family:IntelOne-Text;font-size:16px;line-height:24px;color:#1a2028}.table-card[_ngcontent-%COMP%]   .policy-form-container[_ngcontent-%COMP%]{display:flex}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]{min-width:360px;width:100%;padding:10px 15px 0 0}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{font-size:14px}.table-card[_ngcontent-%COMP%]   .policy-form.edit-policy[_ngcontent-%COMP%]   .form-width[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   .policy-form.edit-policy[_ngcontent-%COMP%]   .file-upload-container[_ngcontent-%COMP%]{margin-left:0}.table-card[_ngcontent-%COMP%]   .policy-form.edit-policy[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-outer-label[_ngcontent-%COMP%]{display:none}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{font-size:14px;font-family:Intel-Clear}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-name[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%], .table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .product-type[_ngcontent-%COMP%]{max-width:547px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-name-text[_ngcontent-%COMP%]{display:flex}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]{margin-bottom:32px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field.product-type[_ngcontent-%COMP%]{margin-bottom:10px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-outer-label[_ngcontent-%COMP%]{display:flex;margin-bottom:15px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-outer-label[_ngcontent-%COMP%]   .number-text[_ngcontent-%COMP%]{display:inline-block;background:#E0E0E0;border-radius:20px;width:20px;height:20px;text-align:center;margin-right:8px;font-size:12px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   .form-outer-label[_ngcontent-%COMP%]   .label-text[_ngcontent-%COMP%]{font-family:IntelOne Text;font-weight:500;font-size:18px;line-height:20px;color:#2b2c30}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin:15px 0;color:#000000de;font-size:14px;font-weight:400;font-family:IntelOne-Display}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-label.edit[_ngcontent-%COMP%]{display:inline-block;min-width:130px;margin:0}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:14px;color:#0e3284}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-width[_ngcontent-%COMP%]{width:100%;margin-left:28px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .mat-radio-group[_ngcontent-%COMP%]{margin-left:28px;display:inline-block}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .form-field-value[_ngcontent-%COMP%]{font-family:IntelOne-Text;color:#494b51;font-weight:700;word-break:break-all}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%]   .mat-radio-button[_ngcontent-%COMP%]{display:block;font-size:16px;margin-top:16px;font-family:IntelOne-Text}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%]   .policy-type-desc[_ngcontent-%COMP%]{margin-left:28px;margin-top:8px}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#0009}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#2b2c30}.table-card[_ngcontent-%COMP%]   .policy-form[_ngcontent-%COMP%]   .policy-type-container[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:15px;height:15px;margin-left:5px;color:#2b2c30}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]{min-width:360px;max-width:500px;width:100%;padding:10px 0 0 15px}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]{background:#F4F5F5;box-shadow:none;border-radius:0}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]{height:50px;padding:0 15px}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{height:12px;width:12px;margin-right:12px;display:flex;align-items:center;text-align:center}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]   mat-expansion-panel-header[_ngcontent-%COMP%]     .mat-expansion-indicator{display:none}.table-card[_ngcontent-%COMP%]   .policy-view[_ngcontent-%COMP%]   mat-expansion-panel[_ngcontent-%COMP%]     .mat-expansion-panel-content p{word-break:break-word;font-weight:500;padding-left:16px;white-space:pre-line;line-height:36px}.table-card[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]{margin:15px 0;padding:12px;background-color:#f4f5f5}.table-card[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600}.table-card[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]   button.mat-raised-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{opacity:.6}.table-card[_ngcontent-%COMP%]   .btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{padding-right:8px}.file-upload-container[_ngcontent-%COMP%]{background:#F4F5F5;padding:15px;margin-left:28px}.file-upload-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:IntelOne-Text;font-size:14px;margin-bottom:10px}.file-upload-container[_ngcontent-%COMP%]   .upload-policy-desc[_ngcontent-%COMP%]{color:#000;margin-bottom:15px;letter-spacing:.1px}.file-upload-container[_ngcontent-%COMP%]   .upload-policy-desc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5}.file-upload-container[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{display:none}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]{display:flex}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;height:32px;line-height:inherit;font-family:Intel-Clear;font-size:12px;margin-top:15px;outline-offset:3px;outline-width:8px;outline-color:transparent;outline-style:solid}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:focus-visible{outline-color:#00377c;outline-offset:3px;outline-width:3px;outline-style:solid;transition:outline .5s ease-out}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]   .file-requirement-wrapper[_ngcontent-%COMP%]{color:#494b51;margin-left:12px;font-family:IntelOne-Text}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]   .file-requirement-wrapper[_ngcontent-%COMP%]   mat-label[_ngcontent-%COMP%]{font-weight:600}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   .add-file-btn[_ngcontent-%COMP%]   .file-requirement-wrapper[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding-left:30px}.file-upload-container[_ngcontent-%COMP%]   .drag-and-drop-section[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:IntelOne-Text;color:#6a6d75}.file-upload-container[_ngcontent-%COMP%]   .selected-file[_ngcontent-%COMP%]{margin-top:10px}.file-upload-container[_ngcontent-%COMP%]   .selected-file[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{vertical-align:text-top;padding:0 4px;cursor:pointer}.mw-100[_ngcontent-%COMP%]{max-width:100%!important}"]}),n})();var k=l(4004),B=l(2694),Q=l(8966),V=l(6087),w=l(4847),h=l(2075),_t=l(8682);function mt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Name "),t.qZA())}function ut(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.name," ")}}function yt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Signed "),t.qZA())}function Pt(n,a){1&n&&t._UZ(0,"mat-icon",21)}function Ct(n,a){1&n&&(t.TgZ(0,"span"),t._uU(1,"-"),t.qZA())}function ht(n,a){if(1&n&&(t.TgZ(0,"td",18),t.YNc(1,Pt,1,0,"mat-icon",19),t.YNc(2,Ct,2,0,"span",20),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.Q6J("ngIf",e.signedPolicyFlag),t.xp6(1),t.Q6J("ngIf",!e.signedPolicyFlag)}}function Ot(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Attestation type "),t.qZA())}function Mt(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.attestationType," ")}}function xt(n,a){1&n&&(t.TgZ(0,"th",22),t._uU(1," Policy type "),t.qZA())}function bt(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.policyType," ")}}function vt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Service "),t.qZA())}function Tt(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",e.serviceType," ")}}function Zt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Policy details "),t.qZA())}function At(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",18)(1,"a",23),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().viewPolicyDetails(r.id,r.policyDetails,r.signedPolicyDetails,r.signedPolicyFlag)}),t._uU(2,"View"),t.qZA()()}}function wt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Modified date "),t.qZA())}function It(n,a){if(1&n&&(t.TgZ(0,"td",18),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=a.$implicit;t.xp6(1),t.hij(" ",t.lcZ(2,1,e.modifiedDate)," ")}}function Dt(n,a){1&n&&(t.TgZ(0,"th",17),t._uU(1," Actions "),t.qZA())}function Ut(n,a){if(1&n){const e=t.EpF();t.TgZ(0,"td",18)(1,"div",24)(2,"span",25),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().updatePolicy(r.id)})("keydown.Enter",function(){const r=t.CHM(e).$implicit;return t.oxw().updatePolicy(r.id)}),t.TgZ(3,"mat-icon",26),t._uU(4,"edit"),t.qZA()(),t.TgZ(5,"span",27),t.NdJ("click",function(){const r=t.CHM(e).$implicit;return t.oxw().deletePolicy(r.id)})("keydown.Enter",function(){const r=t.CHM(e).$implicit;return t.oxw().deletePolicy(r.id)}),t.TgZ(6,"mat-icon",26),t._uU(7,"delete"),t.qZA()()()()}2&n&&(t.xp6(2),t.Q6J("tabIndex",0),t.xp6(3),t.Q6J("tabIndex",0))}function St(n,a){1&n&&t._UZ(0,"tr",28)}function Ft(n,a){1&n&&t._UZ(0,"tr",29)}function Nt(n,a){if(1&n&&(t.TgZ(0,"tr",30)(1,"td",31),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.uIk("colspan",e.displayedColumns.length),t.xp6(1),t.hij(" ",t.lcZ(3,2,e.searchMode?"policy.noEntriesForSearch":"policy.noEntries")," ")}}const Lt=function(){return[10]};let Et=(()=>{class n{constructor(e,o,i,r,f){this.dialog=e,this.router=o,this.translate=i,this.iconRegistry=r,this.sanitizer=f,this.deleteItem=new t.vpe,this.displayedColumns=["name","signedPolicyFlag","attestationType","policyType","viewPolicyFile","modifiedDate","actions"],this.portalPath=y.N.portalPath,r.addSvgIcon("signed-policy-icon",f.bypassSecurityTrustResourceUrl("../assets/images/svg/signed-icon.svg"))}set row(e){e&&this.setTable(e)}set filterValue(e){null!=e&&this.applyFilter(e)}set isPolicyDeleted(e){e&&this.removeDeletedPolicy(e)}ngOnInit(){this.getLocale()}getLocale(){this.translate.get(["common.close","common.cancel","policy.editPolicyButton","policy.viewPolicyDetails","policy.editPolicyDesc","policy.editPolicy"]).subscribe(e=>{this.translations=e})}setTable(e){this.dataSource=new h.by(e),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.dataSource.filterPredicate=(o,i)=>{var r;return null===(r=o.name)||void 0===r?void 0:r.toLowerCase().includes(i)}}applyFilter(e){this.dataSource.filter=null==e?void 0:e.trim().toLowerCase(),this.dataSource.paginator&&this.dataSource.paginator.firstPage()}updatePolicy(e){this.dialog.open(B.z,{panelClass:"confirmation-dialog",data:{header:this.translations["policy.editPolicy"],description:this.translations["policy.editPolicyDesc"],cancelBtnText:this.translations["common.cancel"],submitBtnText:this.translations["policy.editPolicyButton"]}}).afterClosed().subscribe(i=>{i==C.g.SUBMIT&&this.router.navigate([`${this.portalPath}policies/edit-policy`],{queryParams:{policyId:e}})})}deletePolicy(e){const o=this.dataSource.data.map(i=>i.id).indexOf(e.id);this.dataSource.data.splice(o,1),this.deleteItem.emit(e)}removeDeletedPolicy(e){e&&this.dataSource._updateChangeSubscription()}viewPolicyDetails(e,o,i,r){this.dialog.open(_t.n,{panelClass:"common-popover",data:{id:e,description:o,signedPolicyDetails:i,signedPolicyFlag:r,header:this.translations["policy.viewPolicyDetails"],cancelBtnText:this.translations["common.close"]}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.uw),t.Y36(u.F0),t.Y36(d.sK),t.Y36(M.jv),t.Y36(O.H7))},n.\u0275cmp=t.Xpm({type:n,selectors:[["virtual-table"]],viewQuery:function(e,o){if(1&e&&(t.Gf(V.NW,5),t.Gf(w.YE,5)),2&e){let i;t.iGM(i=t.CRH())&&(o.paginator=i.first),t.iGM(i=t.CRH())&&(o.sort=i.first)}},inputs:{row:"row",filterValue:"filterValue",isPolicyDeleted:"isPolicyDeleted",searchMode:"searchMode"},outputs:{deleteItem:"deleteItem"},decls:30,vars:7,consts:[[1,"table-responsive"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","signedPolicyFlag"],["matColumnDef","attestationType"],["matColumnDef","policyType"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["matColumnDef","serviceType"],["matColumnDef","viewPolicyFile"],["matColumnDef","modifiedDate"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["tabindex","0","mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"hidden","length","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["class","signed-policy-icon","svgIcon","signed-policy-icon",4,"ngIf"],[4,"ngIf"],["svgIcon","signed-policy-icon",1,"signed-policy-icon"],["mat-header-cell","","mat-sort-header",""],["href","javascript:;","role","link","aria-label","View policy details",1,"view-policy-link",3,"click"],[1,"action-items"],["role","button","aria-label","Edit a policy",1,"action-btn","edit-policy",3,"tabIndex","click","keydown.Enter"],[1,"mat-icon"],["role","button","aria-label","Delete policy",1,"action-btn","delete-policy",3,"tabIndex","click","keydown.Enter"],["mat-header-row",""],["tabindex","0","mat-row",""],[1,"mat-row"],[1,"mat-cell","text-center"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1),t.ynx(2,2),t.YNc(3,mt,2,0,"th",3),t.YNc(4,ut,2,1,"td",4),t.BQk(),t.ynx(5,5),t.YNc(6,yt,2,0,"th",3),t.YNc(7,ht,3,2,"td",4),t.BQk(),t.ynx(8,6),t.YNc(9,Ot,2,0,"th",3),t.YNc(10,Mt,2,1,"td",4),t.BQk(),t.ynx(11,7),t.YNc(12,xt,2,0,"th",8),t.YNc(13,bt,2,1,"td",4),t.BQk(),t.ynx(14,9),t.YNc(15,vt,2,0,"th",3),t.YNc(16,Tt,2,1,"td",4),t.BQk(),t.ynx(17,10),t.YNc(18,Zt,2,0,"th",3),t.YNc(19,At,3,0,"td",4),t.BQk(),t.ynx(20,11),t.YNc(21,wt,2,0,"th",3),t.YNc(22,It,3,3,"td",4),t.BQk(),t.ynx(23,12),t.YNc(24,Dt,2,0,"th",3),t.YNc(25,Ut,8,2,"td",4),t.BQk(),t.YNc(26,St,1,0,"tr",13),t.YNc(27,Ft,1,0,"tr",14),t.YNc(28,Nt,4,4,"tr",15),t.qZA(),t._UZ(29,"mat-paginator",16),t.qZA()),2&e&&(t.xp6(1),t.Q6J("dataSource",o.dataSource),t.xp6(25),t.Q6J("matHeaderRowDef",o.displayedColumns),t.xp6(1),t.Q6J("matRowDefColumns",o.displayedColumns),t.xp6(2),t.Q6J("hidden",!(null!=o.dataSource&&null!=o.dataSource.data&&o.dataSource.data.length))("length",100)("pageSizeOptions",t.DdM(6,Lt)))},directives:[h.BZ,w.YE,h.w1,h.fO,h.ge,h.Dz,h.ev,c.O5,M.Hw,w.nU,h.as,h.XQ,h.nj,h.Gk,h.Ee,V.NW],pipes:[c.uU,d.X$],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.table-responsive[_ngcontent-%COMP%]{display:block;width:100%;overflow:auto;overflow-y:hidden;background:#FFFFFF;box-shadow:0 1px 1px #0003,0 2px 2px #00000024,0 1px 5px #0000001f;border-radius:4px}.table-responsive[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{color:#2eb946;font-size:18px}.table-responsive[_ngcontent-%COMP%]   .expired[_ngcontent-%COMP%]{color:#e04d65;font-size:18px}.table-responsive[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{border-style:none;display:table-row}.table-responsive[_ngcontent-%COMP%]   .mat-table[_ngcontent-%COMP%]{width:100%}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{word-wrap:break-word;display:table-cell;padding:10px 16px;line-break:unset;width:auto;white-space:nowrap;overflow:hidden;vertical-align:middle}.table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]{color:#757575;font-weight:600;font-size:12px;letter-spacing:.4px;font-family:IntelOne-Display}.table-responsive[_ngcontent-%COMP%]   .mat-header-cell[_ngcontent-%COMP%]     .mat-sort-header-arrow{color:#757575}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]{font-family:IntelOne-Text;box-shadow:inset 0 -1px #0000001f;color:#000000de;font-size:12px}.table-responsive[_ngcontent-%COMP%]   .mat-cell[_ngcontent-%COMP%]   .signed-policy-icon[_ngcontent-%COMP%]{width:14px;height:14px}.table-responsive[_ngcontent-%COMP%]   mat-row[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   mat-footer-row[_ngcontent-%COMP%]{border-bottom:solid 1px #d0d0d0}.table-responsive[_ngcontent-%COMP%]   mat-header-row[_ngcontent-%COMP%]{border-bottom:solid 1px #d0d0d0}.table-responsive[_ngcontent-%COMP%]   .policy-image[_ngcontent-%COMP%]{vertical-align:bottom}.table-responsive[_ngcontent-%COMP%]   .policy-image-text[_ngcontent-%COMP%]{display:inline-block;vertical-align:super}.table-responsive[_ngcontent-%COMP%]   span.edit-policy[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   span.delete-policy[_ngcontent-%COMP%]{padding:3px 5px 1px;display:inline-block;margin-right:8px}.table-responsive[_ngcontent-%COMP%]   span.edit-policy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], .table-responsive[_ngcontent-%COMP%]   span.delete-policy[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#000}td.mat-cell[_ngcontent-%COMP%]{border-color:transparent}td.mat-cell[_ngcontent-%COMP%]:first-of-type{padding-left:347px;font-family:Intel-Clear}.api-key.material-icons[_ngcontent-%COMP%]{font-size:14px;color:#0e3284}  .mat-ink-bar{height:5px;background-color:#0e3284}.action-items[_ngcontent-%COMP%]   mat-icon.mat-icon[_ngcontent-%COMP%]{border:1px solid;border-radius:50%;padding:2px;cursor:pointer}a.view-policy-link[_ngcontent-%COMP%]{color:#0054ae;display:inline-block;padding:2px 4px;outline-offset:3px;outline-width:8px;outline-color:transparent;outline-style:solid}a.view-policy-link[_ngcontent-%COMP%]:focus{outline:none}a.view-policy-link[_ngcontent-%COMP%]:focus-visible{outline-color:#00377c;outline-offset:3px;outline-width:3px;outline-style:solid;transition:outline .5s ease-out}.mat-paginator[_ngcontent-%COMP%]     .mat-select-arrow{color:#0000008a!important}.mat-paginator[_ngcontent-%COMP%]     .mat-paginator-icon{fill:#0000008a!important}"]}),n})();const qt=["searchByPolicyNameInput"];function Yt(n,a){if(1&n&&(t.TgZ(0,"mat-option",25),t._uU(1),t.qZA()),2&n){const e=a.$implicit;t.Q6J("value",e),t.xp6(1),t.Oqu(e)}}const kt=[{path:"add-policy",component:J,canDeactivate:[P.w]},{path:"edit-policy",component:J,canDeactivate:[P.w]},{path:"",component:(()=>{class n{constructor(e,o,i,r,f,m,I,D,U){this.dialog=e,this.translate=o,this.policyService=i,this.alert=r,this.iconRegistry=f,this.sanitizer=m,this.serviceOfferService=I,this.announcer=D,this.loaderService=U,this.defaultAttestationType="ShowAll",this.searchMode=!1,this.portalPath=y.N.portalPath,this.isPolicyDeleted=!1,f.addSvgIcon("signed-policy-icon",m.bypassSecurityTrustResourceUrl("../assets/images/svg/signed-icon.svg"))}ngOnInit(){this.getLocale(),void 0!==history.state.successMsg&&setTimeout(()=>{this.alert.success(history.state.successMsg)},500),this.getSubscribedServiceOffer(),this.getAllPolicies()}ngAfterViewInit(){let e=!1;this.loaderService.isLoading.subscribe(o=>{!e&&!o&&setTimeout(()=>{this.announcer.announce("Manage Policies page has been loaded."),e=!0},1e3)})}getLocale(){this.translate.get(["common.cancel","policy.deletePolicyButton","policy.deletePolicyTitle","policy.deletePolicyDesc","policy.deletePolicyConfirm","policy.deletePolicyMsg"]).subscribe(e=>{this.translations=e})}getAllPolicies(){this.allPoliciesObservable=this.policyService.getPolicies().pipe((0,k.U)(e=>e.map(o=>({id:o.policy_id,name:o.policy_name,serviceType:o.service_offer_name,createdOn:o.created_time,attestationType:o.attestation_type,policyType:o.policy_type,modifiedDate:o.modified_time,policyDetails:o.policy,signedPolicyDetails:o.policy_jwt,signedPolicyFlag:!!o.policy_jwt}))))}getSubscribedServiceOffer(){this.serviceOfferService.getTenantServices().subscribe(e=>{e&&e.length>0&&this.getAttestationTypes(e)})}getAttestationTypes(e){this.serviceOfferService.getAttestationTypes(e[0].service_offer_id).subscribe(o=>{this.attestationTypeLists=o.attestation_policy_type.map(r=>r.attestation_type),this.attestationTypeLists=[...new Set(this.attestationTypeLists)]})}deletePolicy(e){this.dialog.open(B.z,{panelClass:"confirmation-dialog",disableClose:!0,data:{header:this.translations["policy.deletePolicyTitle"],description:this.translate.instant("policy.deletePolicyDesc",{name:e.name}),descriptionConfirm:this.translations["policy.deletePolicyConfirm"],cancelBtnText:this.translations["common.cancel"],submitBtnText:this.translations["policy.deletePolicyButton"]}}).afterClosed().subscribe(i=>{i==C.g.SUBMIT&&this.deletePolicyById(e.id)})}deletePolicyById(e){this.isPolicyDeleted=!1,this.policyService.deletePolicy(e).subscribe(()=>{this.searchMode=!1,this.isPolicyDeleted=!0,this.alert.success(this.translations["policy.deletePolicyMsg"])})}applyFilter(e,o){if(this.searchMode=!0,o&&o==C.g.POLICY_NAME)this.filterValue=e.target.value;else if(o&&o==C.g.SERVICE){const i=e&&e.value;let r;this.searchByPolicyNameInput.nativeElement.value="",r=i===C.g.SHOW_ALL?this.policyService.getPolicies():this.policyService.getPoliciesByAttestationType(i),this.allPoliciesObservable=r.pipe((0,k.U)(f=>f.map(m=>({id:m.policy_id,name:m.policy_name,serviceType:m.service_offer_name,createdOn:m.created_time,attestationType:m.attestation_type,policyType:m.policy_type,modifiedDate:m.modified_time,policyDetails:m.policy,signedPolicyDetails:m.policy_jwt,signedPolicyFlag:!!m.policy_jwt}))))}}ngOnDestroy(){this.searchMode=!1}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Q.uw),t.Y36(d.sK),t.Y36(_.d),t.Y36(b.c),t.Y36(M.jv),t.Y36(O.H7),t.Y36(g._),t.Y36(Z.Kd),t.Y36(S.D))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-policy"]],viewQuery:function(e,o){if(1&e&&t.Gf(qt,5),2&e){let i;t.iGM(i=t.CRH())&&(o.searchByPolicyNameInput=i.first)}},decls:53,vars:36,consts:[[1,"container"],[1,"page-heading"],[1,"content-area"],[1,"page-description"],["svgIcon","signed-policy-icon"],["target","_blank","href","/workspace/download"],[1,"policy-lib-heading"],["mat-button","",1,"add-policy-btn","mat-default-btn-hover",3,"routerLink"],[1,"policy-lib-desc"],[1,"content-body"],[1,"filter-wrapper"],[1,"policy-name-filter"],["for","searchByPolicyName",1,"filter-label"],["appearance","outline",1,"filter-search"],["matPrefix","",1,"search-icon"],["id","searchByPolicyName","matInput","","autocomplete","off","placeholder","Search",3,"keyup"],["searchByPolicyNameInput",""],[1,"service-filter"],[1,"filter-label"],["appearance","outline",1,"filter-dropdown"],["name","service",3,"ngModel","ngModelChange","selectionChange"],["value","ShowAll"],[3,"value",4,"ngFor","ngForOf"],[1,"policy-table"],[3,"row","filterValue","searchMode","isPolicyDeleted","deleteItem"],[3,"value"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"alert"),t.TgZ(2,"div",1)(3,"h1"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",2)(7,"p",3),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"p",3),t._UZ(11,"mat-icon",4),t._uU(12),t.ALo(13,"translate"),t.TgZ(14,"a",5),t._uU(15,"policy signature tool"),t.qZA(),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.TgZ(18,"div",6)(19,"h2"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"button",7)(23,"mat-icon"),t._uU(24,"control_point"),t.qZA(),t._uU(25),t.ALo(26,"translate"),t.qZA()(),t.TgZ(27,"p",8),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"div",9)(31,"div",10)(32,"div",11)(33,"label",12),t._uU(34),t.ALo(35,"translate"),t.qZA(),t.TgZ(36,"mat-form-field",13)(37,"mat-icon",14),t._uU(38,"search"),t.qZA(),t.TgZ(39,"input",15,16),t.NdJ("keyup",function(r){return o.applyFilter(r,"policyName")}),t.qZA()()(),t.TgZ(41,"div",17)(42,"span",18),t._uU(43),t.ALo(44,"translate"),t.qZA(),t.TgZ(45,"mat-form-field",19)(46,"mat-select",20),t.NdJ("ngModelChange",function(r){return o.defaultAttestationType=r})("selectionChange",function(r){return o.applyFilter(r,"service")}),t.TgZ(47,"mat-option",21),t._uU(48,"Show All"),t.qZA(),t.YNc(49,Yt,2,2,"mat-option",22),t.qZA()()()(),t.TgZ(50,"div",23)(51,"virtual-table",24),t.NdJ("deleteItem",function(r){return o.deletePolicy(r)}),t.ALo(52,"async"),t.qZA()()()()()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,16,"policy.managePolicy")),t.xp6(4),t.Oqu(t.lcZ(9,18,"policy.policyDescription")),t.xp6(4),t.hij(" ",t.lcZ(13,20,"policy.policySubDescription1")," "),t.xp6(4),t.hij(" ",t.lcZ(17,22,"policy.policySubDescription2")," "),t.xp6(4),t.Oqu(t.lcZ(21,24,"policy.policyLibrary")),t.xp6(2),t.MGl("routerLink","",o.portalPath,"policies/add-policy"),t.xp6(3),t.hij(" ",t.lcZ(26,26,"policy.addPolicy")," "),t.xp6(3),t.Oqu(t.lcZ(29,28,"policy.policyLibDesc")),t.xp6(6),t.hij("",t.lcZ(35,30,"policy.searchByName")," "),t.xp6(9),t.Oqu(t.lcZ(44,32,"policy.filterByAttestationType")),t.xp6(3),t.Q6J("ngModel",o.defaultAttestationType),t.xp6(3),t.Q6J("ngForOf",o.attestationTypeLists),t.xp6(2),t.Q6J("row",t.lcZ(52,34,o.allPoliciesObservable))("filterValue",o.filterValue)("searchMode",o.searchMode)("isPolicyDeleted",o.isPolicyDeleted))},directives:[F.w,M.Hw,Y.lW,u.rH,v.KE,v.qo,N.Nt,L.gD,p.JJ,p.On,E.ey,c.sg,Et],pipes:[d.X$,c.Ov],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.container[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-family:IntelOne-Display;font-weight:500}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{margin-top:15px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]:first-of-type{margin-bottom:14px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{width:14px;height:14px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#3f51b5}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-family:IntelOne-Text;font-weight:600;margin-bottom:20px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-family:IntelOne-Text;margin-bottom:20px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .policy-lib-heading[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .policy-lib-desc[_ngcontent-%COMP%]{font-family:IntelOne-Text;font-size:16px;line-height:18px;padding-bottom:8px;border-bottom:1px solid #AEAEAE;margin-bottom:20px;letter-spacing:.25px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .add-policy-btn[_ngcontent-%COMP%]{height:34px;background:#F5F5F5;border:1px solid #000000;border-radius:4px;display:flex;justify-content:center;align-items:center;text-transform:uppercase;color:#000000de;font-weight:600;outline-offset:3px;outline-width:8px;outline-color:transparent;outline-style:solid}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .add-policy-btn[_ngcontent-%COMP%]:focus-visible{outline-color:#00377c;outline-offset:3px;outline-width:3px;outline-style:solid;transition:outline .5s ease-out}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]{background:#F4F5F5;padding:12px 8px;display:flex;align-items:center;overflow-x:auto}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .policy-name-filter[_ngcontent-%COMP%]{min-width:330px;margin-right:10px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .policy-name-filter[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .service-filter[_ngcontent-%COMP%]{display:flex;align-items:center;flex-grow:1}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .policy-name-filter[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   .service-filter[_ngcontent-%COMP%]   .filter-label[_ngcontent-%COMP%]{font-size:18px;margin-right:15px;font-family:IntelOne-Text;font-weight:500}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   mat-form-field.filter-dropdown[_ngcontent-%COMP%]{font-size:13px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .filter-wrapper[_ngcontent-%COMP%]   mat-form-field.filter-dropdown[_ngcontent-%COMP%]     .mat-form-field-wrapper{margin:0 0 .25em}"]}),n})()}];let Bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.Bz.forChild(kt)],u.Bz]}),n})(),Qt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[c.ez,s.q,d.aw]]}),n})();var Vt=l(4668),Rt=l(446);let zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[_.d,g._],imports:[[c.ez,p.u5,p.UX,Bt,d.aw,s.q,Qt,Vt.N,Rt.n]]}),n})()},5221:(T,x,l)=>{l.d(x,{w:()=>M});var c=l(5e3),s=l(5970),p=l(9808),u=l(3322),P=l(5245);function y(d,_){1&d&&(c.TgZ(0,"mat-icon"),c._uU(1,"check_circle"),c.qZA())}function C(d,_){1&d&&(c.TgZ(0,"mat-icon"),c._uU(1,"error_outline"),c.qZA())}const t=function(d,_,g){return{alert:d,"alert-success":_,"alert-danger":g}};function O(d,_){if(1&d){const g=c.EpF();c.TgZ(0,"div",1)(1,"div"),c.YNc(2,y,2,0,"mat-icon",2),c.YNc(3,C,2,0,"mat-icon",2),c.TgZ(4,"span"),c._uU(5),c.qZA(),c.TgZ(6,"mat-icon",3),c.NdJ("click",function(){return c.CHM(g),c.oxw().closeAlert()})("keydown.Enter",function(){return c.CHM(g),c.oxw().closeAlert()}),c._uU(7,"cancel"),c.qZA()()()}if(2&d){const g=c.oxw();c.Q6J("ngClass",c.kEZ(5,t,g.message,"success"===g.message.type,"error"===g.message.type)),c.xp6(2),c.Q6J("ngIf","success"===g.message.type),c.xp6(1),c.Q6J("ngIf","error"===g.message.type),c.xp6(2),c.Oqu(g.message.text),c.xp6(1),c.Q6J("tabIndex",0)}}let M=(()=>{class d{constructor(g){this.alertService=g,this.message={type:"",text:""}}ngAfterViewInit(){this.subscription=this.alertService.getMessage().subscribe(g=>{this.message=g})}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}closeAlert(){this.message=""}}return d.\u0275fac=function(g){return new(g||d)(c.Y36(s.c))},d.\u0275cmp=c.Xpm({type:d,selectors:[["alert"]],decls:1,vars:1,consts:[["role","alert","aria-live","polite",3,"ngClass",4,"ngIf"],["role","alert","aria-live","polite",3,"ngClass"],[4,"ngIf"],["aria-hidden","false","aria-label","close alert button",1,"cancel_icon",3,"tabIndex","click","keydown.Enter"]],template:function(g,b){1&g&&c.YNc(0,O,8,9,"div",0),2&g&&c.Q6J("ngIf",b.message.text)},directives:[p.O5,p.mk,u.oO,P.Hw],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.alert[_ngcontent-%COMP%]{width:98%;position:relative;padding:28px 16px;font-family:Intel-Clear;margin-bottom:15px;align-items:center;justify-content:flex-start;border-radius:4px}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;font-size:16px;width:100%}.alert-danger[_ngcontent-%COMP%]{color:#fff;background-color:#ff5252}.alert-danger[_ngcontent-%COMP%]   .cancel_icon[_ngcontent-%COMP%]{color:#fff}.alert-success[_ngcontent-%COMP%]{color:#fff;background:#4CAF50}.alert-info[_ngcontent-%COMP%]{color:#fff;background:#0C76C9}.cancel_icon[_ngcontent-%COMP%]{color:#fff;width:auto;height:24px;outline-offset:3px;outline-width:8px;outline-color:transparent;outline-style:solid}.cancel_icon[_ngcontent-%COMP%]:focus{outline:none}.cancel_icon[_ngcontent-%COMP%]:focus-visible{outline-color:#00377c;outline-offset:3px;outline-width:3px;outline-style:solid;transition:outline .5s ease-out}"]}),d})()},446:(T,x,l)=>{l.d(x,{n:()=>u});var c=l(9808),s=l(1174),p=l(5e3);let u=(()=>{class P{}return P.\u0275fac=function(C){return new(C||P)},P.\u0275mod=p.oAB({type:P}),P.\u0275inj=p.cJS({imports:[[c.ez,s.q]]}),P})()},2694:(T,x,l)=>{l.d(x,{z:()=>t});var c=l(8966),s=l(5e3),p=l(5664),u=l(9224),P=l(5245),y=l(4834),C=l(7423);let t=(()=>{class O{constructor(d,_,g){this.dialogRef=d,this.data=_,this.announcer=g}ngOnInit(){}ngAfterViewInit(){setTimeout(()=>{this.announcer.announce(`${this.data.header} dialog is opened.`)},0)}onCancel(){this.dialogRef.close("close")}onConfirm(){this.dialogRef.close(!0)}}return O.\u0275fac=function(d){return new(d||O)(s.Y36(c.so),s.Y36(c.WI),s.Y36(p.Kd))},O.\u0275cmp=s.Xpm({type:O,selectors:[["app-confirmation-dialog"]],decls:15,vars:5,consts:[["aria-hidden","true",1,"fa","fa-exclamation-triangle"],[3,"innerHTML"],[1,"content-confirm"],["align","end"],["mat-button","",1,"cancel-btn","mat-cancel-btn-hover",3,"click"],["mat-button","",1,"submit-btn","mat-submit-btn-hover",3,"click"]],template:function(d,_){1&d&&(s.TgZ(0,"mat-card")(1,"mat-card-title"),s._uU(2),s.qZA(),s.TgZ(3,"mat-card-content")(4,"mat-icon"),s._UZ(5,"i",0),s.qZA(),s._UZ(6,"p",1),s.qZA(),s.TgZ(7,"p",2),s._uU(8),s.qZA(),s._UZ(9,"mat-divider"),s.TgZ(10,"mat-card-actions",3)(11,"button",4),s.NdJ("click",function(){return _.dialogRef.close("cancel")}),s._uU(12),s.qZA(),s.TgZ(13,"button",5),s.NdJ("click",function(){return _.dialogRef.close("submit")}),s._uU(14),s.qZA()()()),2&d&&(s.xp6(2),s.Oqu(_.data.header),s.xp6(4),s.Q6J("innerHTML",_.data.description,s.oJD),s.xp6(2),s.Oqu(_.data.descriptionConfirm),s.xp6(4),s.Oqu(_.data.cancelBtnText),s.xp6(2),s.Oqu(_.data.submitBtnText))},directives:[u.a8,u.n5,u.dn,P.Hw,y.d,u.hq,C.lW],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}  .confirmation-dialog .mat-dialog-container{width:507px;height:auto;padding:0%;overflow:visible}mat-card[_ngcontent-%COMP%]{padding:0}mat-card[_ngcontent-%COMP%]   .mat-card-title[_ngcontent-%COMP%]{padding:16px;background:#E0E0E0;border-radius:4px 4px 0 0;font-size:20px;color:#000000de;letter-spacing:.25px}mat-card[_ngcontent-%COMP%]   .content-confirm[_ngcontent-%COMP%]{font-weight:700;margin:0 0 15px 20px;font-size:17px}mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;background:#fee9e9;margin:16px 20px 10px;border-radius:4px}mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{color:#f44336;padding:16px}mat-card[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:10px 10px 10px 0;color:#f44336}mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]{padding:8px 16px}mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button[_ngcontent-%COMP%]{text-transform:uppercase;font-size:14px;letter-spacing:1.25px;font-weight:600}mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button.cancel-btn[_ngcontent-%COMP%]{color:#3f51b5}mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button.submit-btn[_ngcontent-%COMP%]{background:#f44336;color:#fff}mat-card[_ngcontent-%COMP%]   .mat-card-actions[_ngcontent-%COMP%]   .mat-button.submit-btn.mat-submit-btn-hover[_ngcontent-%COMP%]:hover{background:#d01104;color:#fff}"]}),O})()},1882:(T,x,l)=>{l.d(x,{_:()=>P});var c=l(2340),s=l(1135),p=l(5e3),u=l(520);let P=(()=>{class y{constructor(t){this.http=t,this.totalSubscribed=new s.X(0)}getServiceOffers(){return this.http.get(`${c.N.nodeServerURL}/service-offers`)}getTenantServices(){return this.http.get(`${c.N.nodeServerURL}/services`)}subscribeToServiceOffers(t){return this.http.post(`${c.N.nodeServerURL}/services`,t)}unsubscribeToServiceOffers(t){return this.http.delete(`${c.N.nodeServerURL}/services/${t}`)}getAttestationTypes(t){return this.http.get(`${c.N.nodeServerURL}/service-offers/${t}/attestation-policy-type`)}}return y.\u0275fac=function(t){return new(t||y)(p.LFG(u.eN))},y.\u0275prov=p.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()}}]);