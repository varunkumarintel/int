"use strict";(self.webpackChunktenant_ui=self.webpackChunktenant_ui||[]).push([[673],{673:(M,g,e)=>{e.r(g),e.d(g,{NotificationPreferencesModule:()=>A});var n=e(9808),p=e(520),f=e(4894),u=e(1174),l=e(1083),r=e(3075),t=e(5e3),P=e(3071),C=e(5970),O=e(5221),c=e(7446),s=e(7322),o=e(7531),d=e(7423);const x=[{path:"",component:(()=>{class i{constructor(a,_,v,Z){this.fb=a,this.userService=_,this.translate=v,this.alert=Z}get isNotificationFormInvalid(){return!(!this.notificationForm.value.attestationFailure||this.notificationForm.value.notificationEmail&&"VALID"===this.notificationForm.get("notificationEmail").status)}ngOnInit(){this.notificationForm=this.fb.group({attestationFailure:!1,serviceUpdate:!1,notificationEmail:new r.NI("",[r.kI.email,r.kI.pattern(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)])}),this.getLocale(),this.getNotificationPreferenceDetails()}getLocale(){this.translate.get(["notificationPreferences.updateSuccessAlertMessage"]).subscribe(a=>{this.translations=a})}getNotificationPreferenceDetails(){this.userService.getNotificationPreferenceDetails().subscribe({next:a=>{a&&this.notificationForm.patchValue({attestationFailure:!!a.attest_failure_email,notificationEmail:a.attest_failure_email?a.attest_failure_email:""})}})}onNotificationFormSubmit(){this.userService.updateNotificationPreferenceDetails({attest_failure_email:this.notificationForm.value.attestationFailure?this.notificationForm.value.notificationEmail:""}).subscribe({next:()=>{this.alert.success(this.translations["notificationPreferences.updateSuccessAlertMessage"])}})}}return i.\u0275fac=function(a){return new(a||i)(t.Y36(r.qu),t.Y36(P.K),t.Y36(f.sK),t.Y36(C.c))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-notification-preferences"]],decls:37,vars:17,consts:[[1,"container"],[1,"page-heading"],[1,"content-area"],[3,"formGroup","ngSubmit"],[1,"step1-preference"],[1,"notification-pref-lists"],[1,"notification-pref-list"],["color","primary","formControlName","attestationFailure"],["color","primary","formControlName","serviceUpdate","disabled",""],[1,"step2-preference"],[1,"note"],[1,"form-field"],["appearance","outline",1,"form-width"],[1,"form-label"],["matInput","","formControlName","notificationEmail"],[1,"apply-changes-btn-area"],["mat-raised-button","","color","primary-btn",1,"mat-primary-btn-hover","apply-changes-btn",3,"disabled"]],template:function(a,_){1&a&&(t.TgZ(0,"div",0),t._UZ(1,"alert"),t.TgZ(2,"div",1)(3,"h1"),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"div",2)(7,"p"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"form",3),t.NdJ("ngSubmit",function(){return _.onNotificationFormSubmit()}),t.TgZ(11,"div",4)(12,"h2"),t._uU(13,"Step 1: Select the type of notifications to receive via email"),t.qZA(),t.TgZ(14,"div",5)(15,"div",6)(16,"mat-checkbox",7),t._uU(17),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",6)(20,"mat-checkbox",8),t._uU(21),t.ALo(22,"translate"),t.qZA()()()(),t.TgZ(23,"div",9)(24,"h2"),t._uU(25,"Step 2: Enter an email address for your selected notifications"),t.qZA(),t.TgZ(26,"p",10),t._uU(27,"Note: This email address can be different from primary email address."),t.qZA(),t.TgZ(28,"div",11)(29,"mat-form-field",12)(30,"mat-label",13),t._uU(31,"Notification email or mailing list"),t.qZA(),t._UZ(32,"input",14),t.qZA()()(),t.TgZ(33,"div",15)(34,"button",16),t._uU(35),t.ALo(36,"translate"),t.qZA()()()()()),2&a&&(t.xp6(4),t.hij(" ",t.lcZ(5,7,"notificationPreferences.notificationPreferencesTitle")," "),t.xp6(4),t.hij("",t.lcZ(9,9,"notificationPreferences.notificationPreferencesDescription")," "),t.xp6(2),t.Q6J("formGroup",_.notificationForm),t.xp6(7),t.Oqu(t.lcZ(18,11,"notificationPreferences.notificationPreferences1")),t.xp6(4),t.Oqu(t.lcZ(22,13,"notificationPreferences.notificationPreferences2")),t.xp6(13),t.Q6J("disabled",_.isNotificationFormInvalid),t.xp6(1),t.hij(" ",t.lcZ(36,15,"notificationPreferences.applyChangesButton")," "))},directives:[O.w,r._Y,r.JL,r.sg,c.oG,r.JJ,r.u,s.KE,s.hX,o.Nt,r.Fj,d.lW],pipes:[f.X$],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.container[_ngcontent-%COMP%]   .page-heading[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:36px;font-family:IntelOne-Display;font-weight:500}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]{margin-top:20px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:24px;font-family:IntelOne-Text}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .step1-preference[_ngcontent-%COMP%]{margin:20px 0}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .step2-preference[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:6px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .step2-preference[_ngcontent-%COMP%]   .note[_ngcontent-%COMP%]{margin-bottom:26px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .step2-preference[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:280px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .notification-pref-lists[_ngcontent-%COMP%]{margin-top:9px;margin-left:8px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .notification-pref-lists[_ngcontent-%COMP%]   .notification-pref-list[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%]{font-family:Roboto;font-weight:400;font-size:16px;line-height:24px;letter-spacing:.5px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .notification-pref-lists[_ngcontent-%COMP%]   .notification-pref-list[_ngcontent-%COMP%]:last-child{margin-top:15px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .apply-changes-btn-area[_ngcontent-%COMP%]{margin-top:15px;padding:8px 16px;background-color:#f4f5f5}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .apply-changes-btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{font-weight:600;letter-spacing:1.25px;border-radius:4px}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .apply-changes-btn-area[_ngcontent-%COMP%]   button.mat-raised-button.mat-button-disabled.mat-button-disabled[_ngcontent-%COMP%]{opacity:.6}.container[_ngcontent-%COMP%]   .content-area[_ngcontent-%COMP%]   .apply-changes-btn-area[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]     span{font-family:IntelOne-Text}"]}),i})()}];let y=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[l.Bz.forChild(x)],l.Bz]}),i})();var b=e(446);let A=(()=>{class i{}return i.\u0275fac=function(a){return new(a||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[],imports:[[n.ez,u.q,f.aw,p.JF,y,r.u5,r.UX,b.n]]}),i})()},5221:(M,g,e)=>{e.d(g,{w:()=>O});var n=e(5e3),p=e(5970),f=e(9808),u=e(3322),l=e(5245);function r(c,s){1&c&&(n.TgZ(0,"mat-icon"),n._uU(1,"check_circle"),n.qZA())}function t(c,s){1&c&&(n.TgZ(0,"mat-icon"),n._uU(1,"error_outline"),n.qZA())}const P=function(c,s,o){return{alert:c,"alert-success":s,"alert-danger":o}};function C(c,s){if(1&c){const o=n.EpF();n.TgZ(0,"div",1)(1,"div"),n.YNc(2,r,2,0,"mat-icon",2),n.YNc(3,t,2,0,"mat-icon",2),n.TgZ(4,"span"),n._uU(5),n.qZA(),n.TgZ(6,"mat-icon",3),n.NdJ("click",function(){return n.CHM(o),n.oxw().closeAlert()})("keydown.Enter",function(){return n.CHM(o),n.oxw().closeAlert()}),n._uU(7,"cancel"),n.qZA()()()}if(2&c){const o=n.oxw();n.Q6J("ngClass",n.kEZ(5,P,o.message,"success"===o.message.type,"error"===o.message.type)),n.xp6(2),n.Q6J("ngIf","success"===o.message.type),n.xp6(1),n.Q6J("ngIf","error"===o.message.type),n.xp6(2),n.Oqu(o.message.text),n.xp6(1),n.Q6J("tabIndex",0)}}let O=(()=>{class c{constructor(o){this.alertService=o,this.message={type:"",text:""}}ngAfterViewInit(){this.subscription=this.alertService.getMessage().subscribe(o=>{this.message=o})}ngOnDestroy(){void 0!==this.subscription&&this.subscription.unsubscribe()}closeAlert(){this.message=""}}return c.\u0275fac=function(o){return new(o||c)(n.Y36(p.c))},c.\u0275cmp=n.Xpm({type:c,selectors:[["alert"]],decls:1,vars:1,consts:[["role","alert","aria-live","polite",3,"ngClass",4,"ngIf"],["role","alert","aria-live","polite",3,"ngClass"],[4,"ngIf"],["aria-hidden","false","aria-label","close alert button",1,"cancel_icon",3,"tabIndex","click","keydown.Enter"]],template:function(o,d){1&o&&n.YNc(0,C,8,9,"div",0),2&o&&n.Q6J("ngIf",d.message.text)},directives:[f.O5,f.mk,u.oO,l.Hw],styles:["@font-face{font-family:Intel-Clear;src:url(IntelClear_Rg.30607c4b31c11740.woff2)}@font-face{font-family:IntelOne-Display-Light;src:url(intelone-display-light.05643278d67beeb2.woff2)}@font-face{font-family:IntelOne-Display;src:url(intelone-display-regular.61b1b4a0da66bb2b.woff2)}@font-face{font-family:IntelOne-Text;src:url(intelone-text-regular.aed322e6ce08ad16.woff2)}.alert[_ngcontent-%COMP%]{width:98%;position:relative;padding:28px 16px;font-family:Intel-Clear;margin-bottom:15px;align-items:center;justify-content:flex-start;border-radius:4px}.alert[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;align-items:center}.alert[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0 15px;font-size:16px;width:100%}.alert-danger[_ngcontent-%COMP%]{color:#fff;background-color:#ff5252}.alert-danger[_ngcontent-%COMP%]   .cancel_icon[_ngcontent-%COMP%]{color:#fff}.alert-success[_ngcontent-%COMP%]{color:#fff;background:#4CAF50}.alert-info[_ngcontent-%COMP%]{color:#fff;background:#0C76C9}.cancel_icon[_ngcontent-%COMP%]{color:#fff;width:auto;height:24px;outline-offset:3px;outline-width:8px;outline-color:transparent;outline-style:solid}.cancel_icon[_ngcontent-%COMP%]:focus{outline:none}.cancel_icon[_ngcontent-%COMP%]:focus-visible{outline-color:#00377c;outline-offset:3px;outline-width:3px;outline-style:solid;transition:outline .5s ease-out}"]}),c})()},446:(M,g,e)=>{e.d(g,{n:()=>u});var n=e(9808),p=e(1174),f=e(5e3);let u=(()=>{class l{}return l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=f.oAB({type:l}),l.\u0275inj=f.cJS({imports:[[n.ez,p.q]]}),l})()}}]);